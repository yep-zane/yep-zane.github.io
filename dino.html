<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dino Game</title>
<style>
  body {
    margin: 0;
    background: #f7f7f7;
    font-family: sans-serif;
    overflow: hidden;
  }

  #game {
    position: relative;
    width: 800px;
    height: 200px;
    margin: 50px auto;
    border: 2px solid #333;
    background: #fff;
    overflow: hidden;
  }

  #dino {
    position: absolute;
    bottom: 0;
    left: 50px;
    width: 40px;
    height: 40px;
    background-color: #333;
    transition: bottom 0.1s;
  }

  .obstacle {
    position: absolute;
    bottom: 0;
    width: 20px;
    height: 40px;
    background-color: red;
    right: 0;
  }

  #score {
    text-align: center;
    font-size: 24px;
    margin-top: 10px;
  }
</style>
</head>
<body>

<div id="game">
  <div id="dino"></div>
</div>
<div id="score">Score: 0</div>

<script>
  const dino = document.getElementById('dino');
  const game = document.getElementById('game');
  const scoreDisplay = document.getElementById('score');

  let isJumping = false;
  let position = 0;
  let score = 0;

  function jump() {
    if (isJumping) return;
    isJumping = true;
    let upInterval = setInterval(() => {
      if (position >= 100) {
        clearInterval(upInterval);
        let downInterval = setInterval(() => {
          if (position <= 0) {
            clearInterval(downInterval);
            isJumping = false;
          } else {
            position -= 10;
            dino.style.bottom = position + 'px';
          }
        }, 20);
      } else {
        position += 10;
        dino.style.bottom = position + 'px';
      }
    }, 20);
  }

  function createObstacle() {
    const obstacle = document.createElement('div');
    obstacle.classList.add('obstacle');
    game.appendChild(obstacle);

    let obstaclePosition = 800;
    obstacle.style.right = obstaclePosition + 'px';

    let moveObstacle = setInterval(() => {
      obstaclePosition += 5; // move left
      obstacle.style.right = obstaclePosition + 'px';

      if (obstaclePosition > 800 + 20) {
        clearInterval(moveObstacle);
        game.removeChild(obstacle);
        score += 1;
        scoreDisplay.textContent = 'Score: ' + score;
      }

      // collision detection
      if (
        obstaclePosition >= 50 && obstaclePosition <= 90 &&
        position < 40
      ) {
        clearInterval(moveObstacle);
        alert('Game Over! Score: ' + score);
        location.reload();
      }
    }, 20);

    setTimeout(createObstacle, Math.random() * 3000 + 1000);
  }

  document.addEventListener('keydown', (e) => {
    if (e.code === 'Space') {
      jump();
    }
  });

  createObstacle();
</script>

</body>
</html>
